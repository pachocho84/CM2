{% if articles|length > 0 %}
    {% set link = link|default(path('article_index')) %}

    <div class="box box-system">
        <div class="box-heading">
            <h2>
                {{ icon('Article') }} {{ 'Latest articles'|trans }}{% if count is defined %}
                <small><a href="{{ link }}" class="pull-right">{{ 'Show all (%count%)'|trans({'%count%': count}) }}</a></small>{% endif %}
            </h2>
        </div>

        <div class="box-body objects">
            {% for article in articles %}
                <div class="media object">
                    {{ show_img_box(article.image|default_img|imagine_filter('medium'), {width: 100, height: 66, offset: article.imgOffset, box_attributes: {class: 'pull-left'}}) }}
                    <div class="media-body">
                        <h3><a href="{{ path('article_show', {id: article.id, slug: article.getSlug}) }}" title="{{ article }}">{{ article }}</a></h3>
                        
                        <p><strong>{{ 'Source'|trans }}</strong> {{ article.source }} &middot; <strong>{{ 'Year'|trans }}</strong> {{ article.year|date('Y') }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endif %}