{% if requests | length == 0 %}
    {{ "There are no requests." | trans }}
{% else %}
    <ul class="media-list">
        {% for request in requests %}
            <li class="media object" object-id="{{ request.id }}">
                {{ show_img_box(request.fromUser.img | imagine_filter('350'), {'width': 50, 'height': 50, 'offset': request.fromUser.offset,  'link': path('user_show', {'slug': request.fromUser.slug}), 'default': 'user', 'box_attributes': {'class': 'pull-left'}}) | raw }}
                <div class="media-body ajax-link-target">
                    <?php echo $request->getRawValue()->getText() ?>
                    {% if request.isNewOrPending %}
                        <div class="pull-right">
                            <a href="{{ path('user_request_update', {'choice': 'accept', 'id': request.id}) }}" class="btn btn-mini ajax-link" data-loading-text="{{ 'Loading' | trans }}"><i class="glyphicon glyphicon-ok"></i> {{ 'Accept' | trans }}</a>
    
                            <a href="{{ path('user_request_update', {'choice': 'refuse', 'id': request.id}) }}" class="btn btn-mini ajax-link" data-loading-text="{{ 'Loading' | trans }}"><i class="glyphicon glyphicon-remove"></i> {{ 'Refuse' | trans }}</a>
                        </div>
                    {% else %}
                        <div class="pull-right"><div>{{ request.statusName | trans | capitalize }}</div</div>
                    {% endif %}
                </div> 
            </li>
        {% endfor %}
    </ul>
{% endif %}